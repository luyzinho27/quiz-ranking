<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase App (core) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <!-- Firebase Auth -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>
<body>
    <!-- Tela de Login/Cadastro -->
    <div id="auth-container" class="container">
        <div class="auth-box">
            <div class="tabs">
                <button id="login-tab" class="tab active">Login</button>
                <button id="register-tab" class="tab">Cadastro</button>
            </div>
            
            <!-- Formulário de Login -->
            <div id="login-form" class="form active">
                <h2>Login</h2>
                <input type="email" id="login-email" placeholder="E-mail" required>
                <input type="password" id="login-password" placeholder="Senha" required>
                <button id="login-btn" class="btn">Entrar</button>
                <p id="login-error" class="error-message"></p>
            </div>
            
            <!-- Formulário de Cadastro -->
            <div id="register-form" class="form">
                <h2>Cadastro</h2>
                <input type="text" id="register-name" placeholder="Nome completo" required>
                <input type="email" id="register-email" placeholder="E-mail" required>
                <input type="password" id="register-password" placeholder="Senha" required>
                <select id="register-type">
                    <option value="aluno">Aluno</option>
                    <option value="admin" id="admin-option">Administrador</option>
                </select>
                <button id="register-btn" class="btn">Cadastrar</button>
                <p id="register-error" class="error-message"></p>
            </div>
        </div>
    </div>

    <!-- Dashboard do Aluno -->
    <div id="student-dashboard" class="container hidden">
        <header>
            <h1>Quiz App</h1>
            <div class="user-info">
                <span id="student-name"></span>
                <button id="student-logout" class="btn btn-secondary">Sair</button>
            </div>
        </header>
        
        <div class="tabs">
            <button id="quizzes-tab" class="tab active">Quizzes</button>
            <button id="ranking-tab" class="tab">Ranking</button>
        </div>
        
        <!-- Lista de Quizzes -->
        <div id="quizzes-section" class="section active">
            <h2>Quizzes Disponíveis</h2>
            <div id="quizzes-list"></div>
        </div>
        
        <!-- Ranking -->
        <div id="ranking-section" class="section">
            <h2>Ranking</h2>
            <div id="ranking-list"></div>
        </div>
    </div>

    <!-- Dashboard do Administrador -->
    <div id="admin-dashboard" class="container hidden">
        <header>
            <h1>Painel do Administrador</h1>
            <div class="user-info">
                <span id="admin-name"></span>
                <button id="admin-logout" class="btn btn-secondary">Sair</button>
            </div>
        </header>
        
        <div class="tabs">
            <button id="manage-quizzes-tab" class="tab active">Gerenciar Quizzes</button>
            <button id="manage-questions-tab" class="tab">Gerenciar Questões</button>
            <button id="manage-users-tab" class="tab">Gerenciar Usuários</button>
        </div>
        
        <!-- Gerenciar Quizzes -->
        <div id="manage-quizzes-section" class="section active">
            <h2>Gerenciar Quizzes</h2>
            <button id="create-quiz-btn" class="btn">Criar Novo Quiz</button>
            <div id="quizzes-admin-list"></div>
        </div>
        
        <!-- Gerenciar Questões -->
        <div id="manage-questions-section" class="section">
            <h2>Gerenciar Questões</h2>
            <div class="question-actions">
                <button id="add-question-btn" class="btn">Adicionar Questão Manualmente</button>
                <input type="file" id="json-file" accept=".json" style="display: none;">
                <button id="import-json-btn" class="btn btn-secondary">Importar de JSON</button>
            </div>
            <div id="questions-list"></div>
        </div>
        
        <!-- Gerenciar Usuários -->
        <div id="manage-users-section" class="section">
            <h2>Gerenciar Usuários</h2>
            <div id="users-list"></div>
        </div>
    </div>

    <!-- Modal para Criar/Editar Quiz -->
    <div id="quiz-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="quiz-modal-title">Criar Quiz</h2>
            <form id="quiz-form">
                <input type="text" id="quiz-title" placeholder="Título do Quiz" required>
                <textarea id="quiz-description" placeholder="Descrição"></textarea>
                <input type="number" id="quiz-time" placeholder="Tempo em minutos" min="1" required>
                <input type="number" id="quiz-questions-count" placeholder="Número de questões" min="1" required>
                <select id="quiz-status">
                    <option value="active">Ativo</option>
                    <option value="inactive">Inativo</option>
                </select>
                <button type="submit" class="btn">Salvar Quiz</button>
            </form>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Questão -->
    <div id="question-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="question-modal-title">Adicionar Questão</h2>
            <form id="question-form">
                <input type="text" id="question-text" placeholder="Texto da questão" required>
                <input type="text" id="option-a" placeholder="Opção A" required>
                <input type="text" id="option-b" placeholder="Opção B" required>
                <input type="text" id="option-c" placeholder="Opção C" required>
                <input type="text" id="option-d" placeholder="Opção D" required>
                <select id="correct-answer" required>
                    <option value="">Selecione a resposta correta</option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                </select>
                <input type="text" id="question-category" placeholder="Categoria">
                <button type="submit" class="btn">Salvar Questão</button>
            </form>
        </div>
    </div>

    <!-- Tela do Quiz -->
    <div id="quiz-container" class="container hidden">
        <header>
            <h1 id="quiz-title-display"></h1>
            <div class="quiz-info">
                <span id="quiz-timer">Tempo: 00:00</span>
                <span id="quiz-progress">Questão 0/0</span>
            </div>
        </header>
        
        <div id="quiz-content">
            <div id="question-container">
                <h2 id="question-text"></h2>
                <div id="options-container">
                    <div class="option" data-value="a">
                        <span class="option-letter">A</span>
                        <span id="option-a-text"></span>
                    </div>
                    <div class="option" data-value="b">
                        <span class="option-letter">B</span>
                        <span id="option-b-text"></span>
                    </div>
                    <div class="option" data-value="c">
                        <span class="option-letter">C</span>
                        <span id="option-c-text"></span>
                    </div>
                    <div class="option" data-value="d">
                        <span class="option-letter">D</span>
                        <span id="option-d-text"></span>
                    </div>
                </div>
            </div>
            
            <div class="quiz-controls">
                <button id="prev-question" class="btn btn-secondary">Anterior</button>
                <button id="next-question" class="btn">Próxima</button>
                <button id="finish-quiz" class="btn btn-primary">Finalizar Quiz</button>
            </div>
        </div>
    </div>

    <!-- Resultado do Quiz -->
    <div id="quiz-result" class="container hidden">
        <div class="result-box">
            <h2>Resultado do Quiz</h2>
            <div id="score-display"></div>
            <button id="back-to-dashboard" class="btn">Voltar ao Dashboard</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
